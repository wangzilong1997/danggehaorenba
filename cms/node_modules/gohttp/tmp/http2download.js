'use strict'

const {http2cli} = require('../index')

let hd = http2cli.connect('https://localhost:2021', {
            debug: true,
            keepalive : true
          })

hd.download({
  timeout: 5000,
  //path : '/download/Videos/Movies/' + encodeURIComponent('寻找隐藏的维度/寻找隐藏的维度.avi'),
  path : '/download/Videos/bilibili/' + encodeURIComponent('陈翔六点半/这条视频话题有点聊不完了.mp4'),
  dir : '/media/wy/MasterData/downloads',
  ondata : (ret) => {
    if (ret.headers === null) {
      return
    }
    console.log(`${ret.totalLength}/${ret.headers['content-length']}`)
  }
}).then(ret => {
  console.log(ret)
})
